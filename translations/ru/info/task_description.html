<p>
    У вас есть коробка с домино. Костяшки домино состоят из двух цифр от 0 (пустая) до 6. Костяшки не имеют направления и 1-6 это тоже самое, что 6-1. Стандартный набор состоит из 28 разных костяшек - все комбинации пар цифр.
</p>

<p>
    Из коробки высыпалось несколько костяшек. Вы должны постараться собрать из этих костяшек цепь, составляя их друг к другу подходящими сторонами (т.е. сторонами с одинаковыми номерами). Таким образом, вы можете получить непрерывную цепочку из всех костяшек. В некоторых случаях такая цепь будет не единственной.
</p>

<p>
    Например, вам достались эти костяшки:<br>
    <strong>1-5, 2-5, 3-5, 4-5, 3-4</strong><br>
    Тогда вы можете построить такие полные цепочки:<br>
    <strong>1-5, 5-3, 3-4, 4-5, 5-2</strong><br>
    <strong>1-5, 5-4, 4-3, 3-5, 5-2</strong><br>
</p>

<p>
    <strong>Ваша задача в этой миссии</strong> - сосчитать, сколько полных цепочек вы можете составить, используя все заданные костяшки домино.
</p>

<p>
    <strong>Примечание.</strong> Цепочки должны быть уникальны. Перевернутая цепочка не считается уникальной: "1-2, 2-3, 3-4, 4-5" и "5-4, 4-3, 3-2, 2-1" - это одна и та же цепочка.
</p>

<p><strong>Входные данные:</strong>
    Строка с описанием костяшек домино. Например, "5-4, 4-3, 3-2, 2-1".
</p>

<p><strong>Выходные данные:</strong>
    Целое число. Максимальное число полных цепочек, которые вы можете построить, используя все костяшки.
</p>

<div class="for_info_only">
    <p><strong>Примеры:</strong></p>
{% if interpreter.slug == "js-node" %}
<pre class="brush: javascript">dominoChain('0-2, 0-5, 1-5, 1-3, 5-5') == 1
dominoChain('1-5, 2-5, 3-5, 4-5, 3-4') == 2
dominoChain('0-5, 1-5, 2-5, 3-5, 4-5, 3-4') == 0
dominoChain('0-1, 0-2, 1-3, 1-2, 3-4, 2-4') == 6
dominoChain('0-1, 0-2, 1-3, 1-2, 3-4, 2-4, 3-0, 0-4') == 0
</pre>
{% else %}
<pre class="brush: python">
domino_chain("0-2, 0-5, 1-5, 1-3, 5-5") == 1
domino_chain("1-5, 2-5, 3-5, 4-5, 3-4") == 2
domino_chain("0-5, 1-5, 2-5, 3-5, 4-5, 3-4") == 0
</pre>
{% endif %}
</div>

<p class="for_info_only">
    <strong>Как это используется:</strong>
    Это задача из комбинаторики. Вы можете решать ее, моделируя реальную игру с костяшками домино. Или освежите свои знания теории графов. Многие вещи в жизни похожи на составление цепочки из домино: например, перелеты несколькими рейсами между городами.
</p>

<p><strong>Ограничения:</strong>
    5 <= количество костяшек <= 17
</p>
